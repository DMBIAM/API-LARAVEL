<ion-modal #modal trigger="open-modal" [canDismiss]="canDismiss" [presentingElement]="presentingElement">
    <ng-template>
        <ion-header>
            <ion-toolbar>
                <ion-title>Favorites</ion-title>
                <ion-buttons slot="end">
                    <ion-button (click)="dismiss()">Close</ion-button>
                </ion-buttons>
                <ion-progress-bar type="indeterminate" *ngIf="showLoading"></ion-progress-bar>
            </ion-toolbar>
        </ion-header>
        <ion-content>
            <div class="options">
                <ion-list>
                    <ion-item>
                        <ion-input label="Search by employee name" label-placement="floating" fill="outline"
                            placeholder="Enter name" [counter]="true" maxlength="100"
                            [(ngModel)]="valueNameFilter"></ion-input>
                    </ion-item>
                </ion-list>
                <ion-list>
                    <ion-item>
                        <ion-select aria-label="Category" (ionChange)="handleChangeCategory($event)"
                            placeholder="Select category" [disabled]="disableCategoryFilter">
                            <ion-select-option *ngFor="let category of categories" value="{{ category.id }}">{{
                                category.name }}</ion-select-option>
                        </ion-select>
                    </ion-item>
                </ion-list>
                <ion-list>
                    <ion-item>
                        <ion-select aria-label="Company" (ionChange)="handleChangeCompany($event)"
                            placeholder="Select company" [disabled]="disableCompanyFilter">
                            <ion-select-option *ngFor="let company of companies" value="{{ company.id }}">{{
                                company.name }}</ion-select-option>
                        </ion-select>
                    </ion-item>
                </ion-list>
                <ion-list>
                    <ion-item>
                        <ion-button id="search-favorites" expand="block" (click)="executeSearch()">Search</ion-button>
                    </ion-item>
                    <ion-item>
                        <ion-button id="reset-filter" expand="block" (click)="resetFilter()">Reset</ion-button>
                    </ion-item>
                </ion-list>
            </div>
            <div class="content favorites">
                <ion-item>
                    <ion-label *ngFor="let favorite of favoritesList">
                        <h3>{{ favorite.employee.name }} {{ favorite.employee.lastname }}</h3>
                        <p>Email: {{ favorite.employee.mail }}</p>
                        <p>Date: {{ favorite.employee.date }}</p>
                        <p>Satisfaction: {{ favorite.employee.satisfaction }}</p>
                        <p>Area: {{ favorite.employee.area.name }}</p>
                        <p>Category: {{ favorite.employee.category.name }}</p>
                        <p>Company: {{ favorite.employee.company.name }}</p>
                        <p>City: {{ favorite.employee.city.name }}</p>
                        <ion-button (click)="removeFavorite(favorite)" [disabled]="favorite.isDeleting">
                            <ion-icon name="trash-outline"></ion-icon>
                        </ion-button>
                    </ion-label>
                </ion-item>
            </div>
        </ion-content>
    </ng-template>
</ion-modal>